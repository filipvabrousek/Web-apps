<h1>Vytvoř si vlastní náramek</h1>


<canvas width="800" height = "800"></canvas>

<section id = "bracelets">
<img src="images/smaragd.png" data-id="smaragd" class="a0"> <!---SMARAGD-->
<img src="images/hnedy.png" data-id="hnedy" class="a1"> <!---HNEDY-->
<img src="images/modry.png" data-id="modry" class="a2"> <!---MODRY-->
</section>


<select id="size">
<option value="10">10 cm</option>
<option value="11">11 cm</option>
<option value="12">12 cm</option>
</select>

<select id="type">
<option value = "moderní">moderní</option>
<option value = "přírodní">přírodní</option>
<option value = "jednoduchý">jednoduchý</option>
</select>




<p class="instruction">Klepněte na korálek</p>
<button>Odeslat</button>

<p class="order"></p>
<p id="summary">summary</p>




<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyA1N0Txaat35ggZQxqTD-3QPznlfScyx8M",
    authDomain: "bracelet-33008.firebaseapp.com",
    databaseURL: "https://bracelet-33008.firebaseio.com",
    projectId: "bracelet-33008",
    storageBucket: "https://bracelet-33008.firebaseio.com/",
    messagingSenderId: "937935998840"
  };
 firebase.initializeApp(config);

</script>





<script>
// init variables and draw circle on canvas
let canvas = document.querySelector("canvas");
let ctx = canvas.getContext("2d");
let imgArray = ["images/smaragd.png", "images/hnedy.png", "images/modry.png"];
let titles = ["smaragd", "hnedy", "modry"];
ctx.beginPath();
ctx.arc(340, 340, 300, 0, Math.PI * 2, true);
ctx.lineWidth = 8;
ctx.stroke();


/*-------------------------------------------------------------------------------------------------------*/
const S = (el) => document.querySelectorAll(el);
let imgs = S("img"); // select all images
let arr = [...imgs];

/*-------------------------------------------------------------------------------------------------------*/
let index = 0;
for (let i = 0; i < imgs.length; i++) {
    arr[i].addEventListener("click", () => {

        index += 1;
        if (index > 3) {
            index = 1
        } // edit this condition to fit number of imgs
        if (index <= 1) {
            index = 1
        }
        document.querySelector(`.a${i}`).src = imgArray[index - 1];
       document.querySelector(`.a${i}`).dataset.id= titles[index - 1];
        document.querySelector(".instruction").innerHTML = `Právě jste vybrali kamínek s číslem ${index}`;
      
    })
}


/*-------------------------------------------------------------------------------------------------------*/

function send() {
     let first = document.querySelector(`.a0`).dataset.id;
     let second = document.querySelector(`.a1`).dataset.id;
     let third = document.querySelector(`.a2`).dataset.id;

    let len = document.querySelector("#size");
    let length = len.options[len.selectedIndex].value;
    let tp = document.querySelector("#type");
    let type = tp.options[tp.selectedIndex].value;
    
    
    let answer = 
    "první: " + first + ",\n" 
    + "druhý: "+ second + ",\n" 
    + "třetí: " + third + ",\n"
    + "typ: " + type +",\n"
    + "délka: " + length;
    document.querySelector("#summary").innerHTML = `Vybrali jste: ${answer}`;

    
// TO-DO: POSLAT  NA SERVER
/*
let ref = firebase.database().ref().child("data");
ref.set("M")
console.log(ref);
*/ 

    
}

document.querySelector("button").addEventListener("click", send);
</script>

<style>
    *{
    font-family: Arial, sans-serif;
    }
    button, select {
        padding: 1em;
        background: #e67e22;
        border: none;
        color: white;
        font-weight: bold;
    }
    
    select {
        margin-top: 2em;
    }
    canvas{
        border: 1px solid black;
    }
    img {
        width: 8em;
        height: auto;
    }
    
    .logo{
    position: absolute;
    top: 26em;
    left: 17.5em;
    }
    
    .a0{
        position: absolute;
        top: 20em;
        left: 0em;
    }
    
    .a1{
        position: absolute;
        top: 33em;
        left: 4em;
    }
    
     .a2{
        position: absolute;
        top: 39em;
        left: 18em;
    }
    
    h1{
        color: #e67e22;
        font-size: 2em;
        font-family: Halvetica, Arial, "sans-serif";
    }
    
    
    
</style>
